<!doctype html><html lang=es>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.92.0">
<link rel=stylesheet href=https://javifm.com/css/styles.css>
<title>Monorepo simple starter workflow | Javier Fernández</title>
</head>
<body>
<div id=site-wrapper class="relative overflow-hidden w-full">
<div id=site-canvas class="w-full h-full relative">
<a id=skiplink class="sr-only absolute top-0 left-0 mt-2 ml-1 font-semibold bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-sm p-2 uppercase" href=#main>
Saltar al contenido principal
</a>
<div class="bg-gray-50 dark:bg-gray-800 border-t-4 border-green-500">
<div class="max-w-7xl mx-auto">
<nav class="flex flex-wrap items-center p-4">
<a href=https://javifm.com/en/ class="mr-auto p-2 -m-2 last:mr-0" aria-hidden=true>
<span class=sr-only>Inicio</span><svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3640 3640" aria-hidden="true" class="w-10 h-10"><path d="M2958 1348l-156-202 69-55c89-70 141-147 147-217 11-127-66-244-181-278-67-19-79-20-139-2-66 21-67 21-228 151-505 408-832 666-840 663-11-4-310-378-310-388 0-9 943-765 1025-822 119-84 245-120 415-121 156 0 305 41 418 116 145 96 269 258 320 417 19 60 39 203 36 255-8 119-39 244-82 327-19 36-96 145-129 183-10 11-54 49-98 84-44 36-87 70-96 78-14 12-35-11-171-189z" id="layer101" fill="#0080b2" stroke="none"/><path d="M671 1839c-227-280-432-541-455-579-115-186-141-441-67-658C264 269 6e2 48 955 73c112 8 193 30 3e2 82 116 56 190 117 293 240 66 80 80 102 70 112-7 7-101 80-208 163l-195 151-40-48c-22-26-61-69-86-94-136-136-365-86-434 94-22 59-17 148 12 204 12 23 205 267 428 543 224 276 405 503 403 504s-91 71-198 156c-107 84-2e2 157-206 161-6 5-163-181-423-502z" id="layer102" fill="#03b8ab" stroke="none"/><path d="M741 3559c-118-23-249-84-345-162-327-262-385-737-132-1074 43-57 94-105 207-196l46-37 153 196c84 108 153 202 154 209 0 7-30 39-69 71-90 76-125 140-125 230 0 187 197 311 365 230 28-14 270-2e2 540-415 269-215 493-390 497-389 4 2 78 90 164 197 109 135 154 198 148 207-15 22-965 774-1034 819-84 55-166 89-262 109-82 17-234 20-307 5z" id="layer103" fill="#ea6675" stroke="none"/><path d="M2605 3556c-191-44-333-137-477-314-51-62-58-76-47-87 8-7 99-79 203-160l189-147 26 34c99 127 165 170 264 171 113 0 207-68 243-176 18-55 15-131-8-182-7-16-192-254-411-529-327-409-396-501-385-511 49-45 373-298 383-299 13-1 750 913 823 1020 84 124 125 262 125 424 0 339-204 620-530 733-75 25-105 30-213 33-83 3-145-1-185-10z" id="layer104" fill="#ffa73d" stroke="none"/></svg>
</a>
<a class="p-2 uppercase text-gray-700 hidden sm:inline-flex hover:bg-gray-200 dark:hover:bg-transparent hover:rounded-sm dark:text-gray-200 dark:hover:text-green-400 mr-3 md:mr-6" href=https://javifm.com/en/>Home</a>
<a class="p-2 uppercase text-gray-700 hidden sm:inline-flex font-semibold bg-gray-200 dark:bg-transparent rounded-sm dark:text-green-400 mr-3 md:mr-6" href=https://javifm.com/en/blog/ aria-current=page>Blog</a>
<a class="p-2 uppercase text-gray-700 hidden sm:inline-flex hover:bg-gray-200 dark:hover:bg-transparent hover:rounded-sm dark:text-gray-200 dark:hover:text-green-400 mr-3 md:mr-6" href=https://javifm.com/en/about/>About</a>
<a class="p-2 uppercase text-gray-700 hidden sm:inline-flex hover:bg-gray-200 dark:hover:bg-transparent hover:rounded-sm dark:text-gray-200 dark:hover:text-green-400 mr-3 md:mr-6" href=https://javifm.com/en/search/>Search</a>
<a class="p-2 uppercase text-gray-700 hidden sm:inline-flex hover:bg-gray-200 dark:hover:bg-transparent hover:rounded-sm dark:text-gray-200 dark:hover:text-green-400" href=https://javifm.com/en/contact/>Contact</a>
<button type=button id=sidebar-open aria-label="Abrir menu" class="sm:hidden text-gray-700 dark:text-gray-300 flex items-center uppercase text-xl p-1 -m-1">
Menú<svg xmlns="http://www.w3.org/2000/svg" class="ml-2 w-6 h-6 fill-current" id="open-menu" role="img" aria-labelledby="titleId" viewBox="0 0 20 20"><title id="titleId">Menú</title><path role="presentation" d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="ml-2 w-6 h-6 fill-current hidden" id="close-menu" role="img" aria-labelledby="titleId" viewBox="0 0 20 20"><title id="titleId">Cerrar</title><path role="presentation" d="M10 8.586 2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"/></svg>
</button>
</nav>
</div>
</div>
<div id=site-menu class="h-full absolute top-0 py-6 px-4 bg-gray-800 dark:bg-gray-800 hidden border-l border-transparent dark:border-gray-700">
<nav class="flex flex-col uppercase text-xl">
<a class="mb-1 px-4 py-2 text-gray-100" href=https://javifm.com/en/>Home</a>
<a class="mb-1 px-4 py-2 bg-green-600 rounded text-white font-semibold outline-none focus:bg-white focus:text-green-600" href=https://javifm.com/en/blog/>Blog</a>
<a class="mb-1 px-4 py-2 text-gray-100" href=https://javifm.com/en/about/>About</a>
<a class="mb-1 px-4 py-2 text-gray-100" href=https://javifm.com/en/search/>Search</a>
<a class="mb-1 px-4 py-2 text-gray-100" href=https://javifm.com/en/contact/>Contact</a>
</nav>
</div>
<main id=main>
<div class="bg-gray-100 dark:bg-gray-800 border-b border-gray-300 dark:border-gray-600"></div>
<article class="max-w-7xl mx-auto px-4 single-post">
<div class=my-6>
<h1 class=title>Monorepo simple starter workflow</h1>
<div class="flex flex-wrap flex-col sm:flex-row sm:items-center text-gray-600 dark:text-gray-300">
<time datetime=2022-04-05>
Published Apr 5, 2022
</time>
<span>
<span class="mx-2 hidden sm:inline-flex">&bull;</span>Reading time: 10 min
</span>
</div>
<div class=mt-4>
<a class="tag inline-block text-sm mr-2 mb-2" href=https://javifm.com/en/tags/git>git</a>
<a class="tag inline-block text-sm mr-2 mb-2" href=https://javifm.com/en/tags/hook>hook</a>
<a class="tag inline-block text-sm mr-2 mb-2" href=https://javifm.com/en/tags/react>react</a>
<a class="tag inline-block text-sm mr-2 mb-2" href=https://javifm.com/en/tags/nestjs>nestJS</a>
</div>
</div>
<div class=single-post-content>
<div class=table-of-content>
<h2>Table of content</h2>
<nav id=TableOfContents>
<ol>
<li><a href=#bootstrapping-backend-folder-with-nestjs>Bootstrapping backend folder with NestJS</a></li>
<li><a href=#bootstrapping-frontend-folder>Bootstrapping frontend folder</a></li>
<li><a href=#install-prettier>Install prettier</a></li>
<li><a href=#configuring-eslint>Configuring ESLint</a></li>
<li><a href=#git-pre-commit-hook>Git pre-commit hook</a>
<ol>
<li><a href=#installing-husky>Installing husky</a></li>
<li><a href=#adding-npm-scripts-in-root-packagejson>Adding npm scripts in root package.json</a></li>
<li><a href=#installing-tsc-files>Installing tsc-files</a></li>
<li><a href=#lint-staged-in-backend-and-frontend>lint-staged in backend and frontend</a></li>
<li><a href=#pre-commit-summary>pre-commit summary</a></li>
</ol>
</li>
<li><a href=#git-pre-push-hook>Git pre-push hook</a>
<ol>
<li><a href=#adding-npm-scripts-in-root-packagejson-1>Adding npm scripts in root package.json</a></li>
<li><a href=#prepush-if-changed-in-backend-and-frontend>prepush-if-changed in backend and frontend</a></li>
</ol>
</li>
</ol>
</nav>
</div>
<p>In my current job, I have had to configure a monorepo with git hooks, ESLint, Prettier and some custom actions. I want to register the process, for future reference. This is the use case:</p>
<ul>
<li><code>backend</code> folder, with <a href=https://nestjs.com/>NestJS</a> project. NestJS is a backend framework for Node, it uses Typescript.</li>
<li><code>frontend</code> folder, with <strong>React + Typescript</strong> project.</li>
<li>Global <strong>Prettier</strong> config, shared between both projects.</li>
<li><strong>ESLint</strong> for linting, each project will have its own config.</li>
<li>In addition to ESLint, <strong>tsc</strong> for type check.</li>
<li>Git <strong>pre-commit</strong> hook: will run <code>eslint --fix</code> and <code>prettier --write</code> on files committed. If ESLint or tsc reports any error, <strong>commit will be aborted</strong>.</li>
<li>Git <strong>pre-push hook</strong>: will run unit testing, if any file was changed on backend project, it will run just backend tests. Same for frontend, and if there are changes on both projects, it will run both. <strong>Git push will be aborted if tests fail</strong>.</li>
</ul>
<p>Let&rsquo;s start explaining step by step.</p>
<h2 id=bootstrapping-backend-folder-with-nestjs>Bootstrapping backend folder with NestJS</h2>
<p>As mentioned at the beginning, we will use NestJS for backend. First step will be installing Nest CLI to scaffold the project. Thereafter, we will create a new project:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm i -g @nestjs/cli
nest new backend
</code></pre></div><p>As this will be backend part of the monorepo, we will remove the <code>.git</code> folder created inside backend folder.</p>
<h2 id=bootstrapping-frontend-folder>Bootstrapping frontend folder</h2>
<p>Once backend is created, we will proceed creating frontend with React + Typescript using create-react-app:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npx create-react-app frontend --template typescript
</code></pre></div><h2 id=install-prettier>Install prettier</h2>
<p>Both projects will use Prettier. We will install it inside frontend and backend folder.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=nb>cd</span> backend
npm install --save-dev --save-exact prettier

<span class=nb>cd</span> ../frontend
npm install --save-dev --save-exact prettier
</code></pre></div><p>Now we can create a <code>.prettierrc</code> config file in the root folder (config will be shared with both projects). We can configure with our preferred rules, for example:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=p>{</span>
  <span class=nt>&#34;printWidth&#34;</span><span class=p>:</span> <span class=mi>80</span><span class=p>,</span>
  <span class=nt>&#34;tabWidth&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
  <span class=nt>&#34;trailingComma&#34;</span><span class=p>:</span> <span class=s2>&#34;all&#34;</span><span class=p>,</span>
  <span class=nt>&#34;singleQuote&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
  <span class=nt>&#34;semi&#34;</span><span class=p>:</span> <span class=kc>true</span>
<span class=p>}</span>
</code></pre></div><p>And now we will create npm scripts for running prettier. In <code>frontend/package.json</code>:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
  <span class=c1>// ...
</span><span class=c1></span>  <span class=nt>&#34;format&#34;</span><span class=p>:</span> <span class=s2>&#34;prettier --write &#39;src/**/*.{js,jsx,ts,tsx,json,css,scss,md}&#39;&#34;</span>
<span class=p>}</span><span class=err>,</span>
</code></pre></div><p>In <code>backend/package.json</code>:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
  <span class=c1>// ...
</span><span class=c1></span>  <span class=nt>&#34;format&#34;</span><span class=p>:</span> <span class=s2>&#34;prettier --write &#39;src/**/*.ts\&#39; &#39;test/**/*.ts&#39;&#34;</span><span class=p>,</span>
<span class=p>}</span><span class=err>,</span>
</code></pre></div><h2 id=configuring-eslint>Configuring ESLint</h2>
<p>Presently, we will configure ESLint for linting. We are using Prettier, so we will install a package that will turn off rules that are unnecessary or might conflict with Prettier. Thereafter, we will install a plugin for auto ordering imports, but let&rsquo;s see the basic configuration first.</p>
<p>We will go with frontend first:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=nb>cd</span> frontend
npm i -D eslint eslint-config-prettier @typescript-eslint/parser
</code></pre></div><p>Besides, we will create a <code>.eslintrc.js</code> file inside frontend folder:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
  <span class=kr>extends</span><span class=o>:</span> <span class=p>[</span>
    <span class=s1>&#39;react-app&#39;</span><span class=p>,</span>
    <span class=s1>&#39;react-app/jest&#39;</span><span class=p>,</span>
    <span class=s1>&#39;prettier&#39;</span><span class=p>,</span>
  <span class=p>],</span>
  <span class=nx>parser</span><span class=o>:</span> <span class=s1>&#39;@typescript-eslint/parser&#39;</span><span class=p>,</span>
  <span class=nx>ignorePatterns</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;.eslintrc.js&#39;</span><span class=p>],</span>
  <span class=nx>rules</span><span class=o>:</span> <span class=p>{</span>
    <span class=s1>&#39;no-console&#39;</span><span class=o>:</span> <span class=s1>&#39;warn&#39;</span><span class=p>,</span>
    <span class=s1>&#39;no-debugger&#39;</span><span class=o>:</span> <span class=s1>&#39;warn&#39;</span><span class=p>,</span>
    <span class=s1>&#39;no-alert&#39;</span><span class=o>:</span> <span class=s1>&#39;warn&#39;</span><span class=p>,</span>
  <span class=p>},</span>
<span class=p>};</span>
</code></pre></div><p>This is the most basic configuration for React with Typescript. Conflicts with Prettier are avoided, it&rsquo;s a great starting point for customizing or extending with any config you like.</p>
<p>As a bonus, in our project we introduced <a href=https://github.com/import-js/eslint-plugin-import>eslint-plugin-import</a> plugin for sorting the imports following the same criteria. If you are not interested, you can skip this config. We must install these packages:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm i -D eslint-import-resolver-typescript eslint-plugin-import 
</code></pre></div><p>And the final config (you can customize a dozen of rules):</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
  <span class=kr>extends</span><span class=o>:</span> <span class=p>[</span>
    <span class=s1>&#39;react-app&#39;</span><span class=p>,</span>
    <span class=s1>&#39;react-app/jest&#39;</span><span class=p>,</span>
    <span class=s1>&#39;plugin:import/recommended&#39;</span><span class=p>,</span>
    <span class=s1>&#39;plugin:import/typescript&#39;</span><span class=p>,</span>
    <span class=s1>&#39;prettier&#39;</span><span class=p>,</span>
  <span class=p>],</span>
  <span class=nx>plugins</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;import&#39;</span><span class=p>],</span>
  <span class=nx>parser</span><span class=o>:</span> <span class=s1>&#39;@typescript-eslint/parser&#39;</span><span class=p>,</span>
  <span class=nx>ignorePatterns</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;.eslintrc.js&#39;</span><span class=p>],</span>
  <span class=nx>rules</span><span class=o>:</span> <span class=p>{</span>
    <span class=s1>&#39;no-console&#39;</span><span class=o>:</span> <span class=s1>&#39;warn&#39;</span><span class=p>,</span>
    <span class=s1>&#39;no-debugger&#39;</span><span class=o>:</span> <span class=s1>&#39;warn&#39;</span><span class=p>,</span>
    <span class=s1>&#39;no-alert&#39;</span><span class=o>:</span> <span class=s1>&#39;warn&#39;</span><span class=p>,</span>
    <span class=s1>&#39;import/order&#39;</span><span class=o>:</span> <span class=p>[</span>
      <span class=s1>&#39;error&#39;</span><span class=p>,</span>
      <span class=p>{</span>
        <span class=nx>groups</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;builtin&#39;</span><span class=p>,</span> <span class=s1>&#39;external&#39;</span><span class=p>,</span> <span class=s1>&#39;parent&#39;</span><span class=p>,</span> <span class=s1>&#39;sibling&#39;</span><span class=p>,</span> <span class=s1>&#39;index&#39;</span><span class=p>],</span>
        <span class=nx>pathGroups</span><span class=o>:</span> <span class=p>[</span>
          <span class=p>{</span>
            <span class=nx>pattern</span><span class=o>:</span> <span class=s1>&#39;react**&#39;</span><span class=p>,</span>
            <span class=nx>group</span><span class=o>:</span> <span class=s1>&#39;builtin&#39;</span><span class=p>,</span>
            <span class=nx>position</span><span class=o>:</span> <span class=s1>&#39;after&#39;</span><span class=p>,</span>
          <span class=p>},</span>
          <span class=p>{</span>
            <span class=nx>pattern</span><span class=o>:</span> <span class=s1>&#39;*.scss&#39;</span><span class=p>,</span>
            <span class=nx>patternOptions</span><span class=o>:</span> <span class=p>{</span> <span class=nx>matchBase</span><span class=o>:</span> <span class=kc>true</span> <span class=p>},</span>
            <span class=nx>group</span><span class=o>:</span> <span class=s1>&#39;index&#39;</span><span class=p>,</span>
            <span class=nx>position</span><span class=o>:</span> <span class=s1>&#39;after&#39;</span><span class=p>,</span>
          <span class=p>},</span>
        <span class=p>],</span>
        <span class=nx>pathGroupsExcludedImportTypes</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;react&#39;</span><span class=p>],</span>
        <span class=s1>&#39;newlines-between&#39;</span><span class=o>:</span> <span class=s1>&#39;always&#39;</span><span class=p>,</span>
        <span class=nx>alphabetize</span><span class=o>:</span> <span class=p>{</span>
          <span class=nx>order</span><span class=o>:</span> <span class=s1>&#39;asc&#39;</span><span class=p>,</span>
          <span class=nx>caseInsensitive</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
        <span class=p>},</span>
        <span class=nx>warnOnUnassignedImports</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
      <span class=p>},</span>
    <span class=p>],</span>
  <span class=p>},</span>
  <span class=nx>settings</span><span class=o>:</span> <span class=p>{</span>
    <span class=s1>&#39;import/parsers&#39;</span><span class=o>:</span> <span class=p>{</span>
      <span class=s1>&#39;@typescript-eslint/parser&#39;</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;.ts&#39;</span><span class=p>,</span> <span class=s1>&#39;.tsx&#39;</span><span class=p>],</span>
    <span class=p>},</span>
  <span class=p>},</span>
<span class=p>};</span>
</code></pre></div><p>Now, when <code>eslint --fix</code> is executed, all the imports should be auto-formatted.</p>
<blockquote>
<p><strong>NOTE:</strong> No named imports can be auto-ordered because, in this kind of imports, the order matters. These imports will be marked as error, but <strong>must be reordered manually</strong>.</p>
<p><strong>Example</strong>: import &lsquo;./App.scss&rsquo;;</p>
</blockquote>
<p>Finally, we can remove from <code>package.json</code> the ESLint config that was created by create-react-app:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json>  <span class=s2>&#34;eslintConfig&#34;</span><span class=err>:</span> <span class=p>{</span>
    <span class=nt>&#34;extends&#34;</span><span class=p>:</span> <span class=p>[</span>
      <span class=s2>&#34;react-app&#34;</span><span class=p>,</span>
      <span class=s2>&#34;react-app/jest&#34;</span>
    <span class=p>]</span>
  <span class=p>}</span><span class=err>,</span>
</code></pre></div><p>Once ESLint is running in frontend, let&rsquo;s dig into the backend. NestJS comes with a default config, which is a great starting point. We will tweak it, and install <a href=https://github.com/import-js/eslint-plugin-import>eslint-plugin-import</a>.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=nb>cd</span> backend
npm i -D eslint-import-resolver-typescript eslint-plugin-import 
</code></pre></div><p>And the final <code>.eslintrc.js</code> config file, with prettier plugin and imports config:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>parser</span><span class=o>:</span> <span class=s1>&#39;@typescript-eslint/parser&#39;</span><span class=p>,</span>
  <span class=nx>plugins</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;@typescript-eslint/eslint-plugin&#39;</span><span class=p>,</span> <span class=s1>&#39;import&#39;</span><span class=p>],</span>
  <span class=kr>extends</span><span class=o>:</span> <span class=p>[</span>
    <span class=s1>&#39;plugin:@typescript-eslint/recommended&#39;</span><span class=p>,</span>
    <span class=s1>&#39;plugin:import/recommended&#39;</span><span class=p>,</span>
    <span class=s1>&#39;plugin:import/typescript&#39;</span><span class=p>,</span>
    <span class=s1>&#39;prettier&#39;</span><span class=p>,</span>
  <span class=p>],</span>
  <span class=nx>root</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
  <span class=nx>env</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>node</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
    <span class=nx>jest</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
  <span class=p>},</span>
  <span class=nx>ignorePatterns</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;.eslintrc.js&#39;</span><span class=p>],</span>
  <span class=nx>rules</span><span class=o>:</span> <span class=p>{</span>
    <span class=s1>&#39;no-console&#39;</span><span class=o>:</span> <span class=s1>&#39;warn&#39;</span><span class=p>,</span>
    <span class=s1>&#39;no-debugger&#39;</span><span class=o>:</span> <span class=s1>&#39;warn&#39;</span><span class=p>,</span>
    <span class=s1>&#39;@typescript-eslint/interface-name-prefix&#39;</span><span class=o>:</span> <span class=s1>&#39;off&#39;</span><span class=p>,</span>
    <span class=s1>&#39;@typescript-eslint/explicit-function-return-type&#39;</span><span class=o>:</span> <span class=s1>&#39;off&#39;</span><span class=p>,</span>
    <span class=s1>&#39;@typescript-eslint/explicit-module-boundary-types&#39;</span><span class=o>:</span> <span class=s1>&#39;off&#39;</span><span class=p>,</span>
    <span class=s1>&#39;@typescript-eslint/no-explicit-any&#39;</span><span class=o>:</span> <span class=s1>&#39;off&#39;</span><span class=p>,</span>
    <span class=s1>&#39;@typescript-eslint/ban-ts-comment&#39;</span><span class=o>:</span> <span class=s1>&#39;off&#39;</span><span class=p>,</span>
    <span class=s1>&#39;import/order&#39;</span><span class=o>:</span> <span class=p>[</span>
      <span class=s1>&#39;error&#39;</span><span class=p>,</span>
      <span class=p>{</span>
        <span class=nx>groups</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;builtin&#39;</span><span class=p>,</span> <span class=s1>&#39;external&#39;</span><span class=p>,</span> <span class=s1>&#39;parent&#39;</span><span class=p>,</span> <span class=s1>&#39;sibling&#39;</span><span class=p>,</span> <span class=s1>&#39;index&#39;</span><span class=p>],</span>
        <span class=nx>pathGroups</span><span class=o>:</span> <span class=p>[</span>
          <span class=p>{</span>
            <span class=nx>pattern</span><span class=o>:</span> <span class=s1>&#39;@nestjs**&#39;</span><span class=p>,</span>
            <span class=nx>group</span><span class=o>:</span> <span class=s1>&#39;builtin&#39;</span><span class=p>,</span>
            <span class=nx>position</span><span class=o>:</span> <span class=s1>&#39;after&#39;</span><span class=p>,</span>
          <span class=p>},</span>
        <span class=p>],</span>
        <span class=nx>pathGroupsExcludedImportTypes</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;@nestjs&#39;</span><span class=p>],</span>
        <span class=s1>&#39;newlines-between&#39;</span><span class=o>:</span> <span class=s1>&#39;always&#39;</span><span class=p>,</span>
        <span class=nx>alphabetize</span><span class=o>:</span> <span class=p>{</span>
          <span class=nx>order</span><span class=o>:</span> <span class=s1>&#39;asc&#39;</span><span class=p>,</span>
          <span class=nx>caseInsensitive</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
        <span class=p>},</span>
        <span class=nx>warnOnUnassignedImports</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
      <span class=p>},</span>
    <span class=p>],</span>
  <span class=p>},</span>
  <span class=nx>settings</span><span class=o>:</span> <span class=p>{</span>
    <span class=s1>&#39;import/parsers&#39;</span><span class=o>:</span> <span class=p>{</span>
      <span class=s1>&#39;@typescript-eslint/parser&#39;</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;.ts&#39;</span><span class=p>,</span> <span class=s1>&#39;.tsx&#39;</span><span class=p>],</span>
    <span class=p>},</span>
  <span class=p>},</span>
<span class=p>};</span>
</code></pre></div><h2 id=git-pre-commit-hook>Git pre-commit hook</h2>
<p>We want to perform some operations on files committed, such as <strong>format with prettier and lint with <code>eslint --fix</code></strong>. To achieve this, we will use <a href=https://github.com/typicode/husky>Husky</a> to run this actions with git hooks.</p>
<h3 id=installing-husky>Installing husky</h3>
<p>We must create a <code>package.json</code> file in the root folder, to install husky dependency. We will run:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm init -y
</code></pre></div><p>Thereafter, we can fill the fields we want, and now, <strong>we will install husky and create and run the <code>prepare</code> script</strong>:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm i -D husky
npm set-script prepare <span class=s2>&#34;husky install&#34;</span>
npm run prepare
</code></pre></div><p><code>prepare</code> is a lifecycle script, and will be executed after we execute <code>npm install</code> in a repository. If we are using <strong>Yarn</strong>, maybe <strong>husky</strong> is not installed automatically after install. In that case, we should manually run:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm run prepare
</code></pre></div><p>Finally, we can add <code>pre-commit</code> hook. We will run <code>npm run lint</code> on pre-commit (we will define this script in a while).</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npx husky add .husky/pre-commit <span class=s2>&#34;npm run lint&#34;</span>
</code></pre></div><p>A file named <code>pre-commit</code> under <code>.husky</code> folder will appear with this content:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=cp>#!/bin/sh
</span><span class=cp></span>. <span class=s2>&#34;</span><span class=k>$(</span>dirname <span class=s2>&#34;</span><span class=nv>$0</span><span class=s2>&#34;</span><span class=k>)</span><span class=s2>/_/husky.sh&#34;</span>

npm run lint
</code></pre></div><blockquote>
<p><strong>NOTE:</strong> If you run Git from an app like Sourcetree, and get an error about <code>command not found</code>, you must create a <code>~/.huskyrc</code> file to load the necessary before running hooks (described <a href="https://typicode.github.io/husky/#/?id=command-not-found">here</a>). For example, for <code>nvm</code>:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=c1># ~/.huskyrc</span>
<span class=c1># This loads nvm.sh and sets the correct PATH before running hook</span>
<span class=nb>export</span> <span class=nv>NVM_DIR</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/.nvm&#34;</span>
<span class=o>[</span> -s <span class=s2>&#34;</span><span class=nv>$NVM_DIR</span><span class=s2>/nvm.sh&#34;</span> <span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=se>\.</span> <span class=s2>&#34;</span><span class=nv>$NVM_DIR</span><span class=s2>/nvm.sh&#34;</span>
</code></pre></div></blockquote>
<h3 id=adding-npm-scripts-in-root-packagejson>Adding npm scripts in root package.json</h3>
<p>Once defined the hook, we must create <code>lint</code> script in the root <code>package.json</code>. This script will run 2 scripts, one for backend linting, and the other for frontend. These are the lines added:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
  <span class=c1>// ...
</span><span class=c1></span>  <span class=nt>&#34;lint&#34;</span><span class=p>:</span> <span class=s2>&#34;npm-run-all lint:backend lint:frontend&#34;</span><span class=p>,</span>
  <span class=nt>&#34;lint:backend&#34;</span><span class=p>:</span> <span class=s2>&#34;cd backend &amp;&amp; npm run lint:staged&#34;</span><span class=p>,</span>
  <span class=nt>&#34;lint:frontend&#34;</span><span class=p>:</span> <span class=s2>&#34;cd frontend &amp;&amp; npm run lint:staged&#34;</span><span class=p>,</span>
<span class=p>}</span><span class=err>,</span>
</code></pre></div><p>We are using <a href=https://github.com/mysticatea/npm-run-all>npm-run-all</a> on lint script for executing the other 2 scripts, so we will install this dependency in root package.json:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npm i -D npm-run-all
</code></pre></div><p>The next step, is defining <code>lint:staged</code> script in <code>backend/package.json</code> and in <code>frontend/package.json</code> as well, but before that, we will install another dependency for linting.</p>
<h3 id=installing-tsc-files>Installing tsc-files</h3>
<p><a href=https://github.com/gustavopch/tsc-files>tsc-files</a> is a tiny tool to run <code>tsc</code> on specific files without ignoring <code>tsconfig.json</code>. This package was created <a href=https://github.com/microsoft/TypeScript/issues/27379>because passing specific files</a> like <code>tsc --noEmit file1.ts file2.ts</code> will cause TypeScript to simply ignore the <code>tsconfig.json</code>.</p>
<p>We install tsc-files, which will be needed in the following step:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=nb>cd</span> backend
npm i -D tsc-files
<span class=nb>cd</span> ../frontend
npm i -D tsc-files
</code></pre></div><h3 id=lint-staged-in-backend-and-frontend>lint-staged in backend and frontend</h3>
<p><a href=https://github.com/okonet/lint-staged>lint-staged</a> is a package that allows us to run linters on staged git files. This way, we won&rsquo;t let bugs slip into our code base, and we will take the opportunity to format committed files.</p>
<p>We will install this development dependency in backend and frontend:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=nb>cd</span> backend
npm i -D lint-staged
<span class=nb>cd</span> ../frontend
npm i -D lint-staged
</code></pre></div><p>Now, we will <a href=https://github.com/okonet/lint-staged#configuration>define lint-staged config</a> for running our tasks. We can define config inside <code>package.json</code> or in a separate file. For both projects, we will run <code>eslint --fix</code>, <code>tsc</code> for type check and <code>prettier</code> for format.</p>
<p>Furthermore, we have to add a script called <code>lint:staged</code>, which is called from root <code>package.json</code>.</p>
<p>We will go with the first one, so:</p>
<p><code>backend/package.json</code></p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
  <span class=c1>// ...
</span><span class=c1></span>  <span class=nt>&#34;lint:staged&#34;</span><span class=p>:</span> <span class=s2>&#34;lint-staged&#34;</span><span class=p>,</span>
  <span class=c1>// ...
</span><span class=c1></span><span class=p>}</span>
<span class=c1>// ...
</span><span class=c1></span><span class=s2>&#34;lint-staged&#34;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&#34;src/**/*.+(ts)&#34;</span><span class=p>:</span> <span class=p>[</span>
    <span class=s2>&#34;eslint --fix&#34;</span><span class=p>,</span>
    <span class=s2>&#34;tsc-files --noEmit&#34;</span>
  <span class=p>],</span>
  <span class=nt>&#34;src/**/*.{ts,json,md}&#34;</span><span class=p>:</span> <span class=p>[</span>
    <span class=s2>&#34;prettier --write&#34;</span>
  <span class=p>]</span>
<span class=p>}</span>
</code></pre></div><p><code>frontend/package.json</code></p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
  <span class=c1>// ...
</span><span class=c1></span>  <span class=nt>&#34;lint:staged&#34;</span><span class=p>:</span> <span class=s2>&#34;lint-staged&#34;</span><span class=p>,</span>
  <span class=c1>// ...
</span><span class=c1></span><span class=p>}</span>
<span class=c1>// ...
</span><span class=c1></span><span class=s2>&#34;lint-staged&#34;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&#34;src/**/*.+(ts|tsx)&#34;</span><span class=p>:</span> <span class=p>[</span>
    <span class=s2>&#34;eslint --fix&#34;</span><span class=p>,</span>
    <span class=s2>&#34;tsc-files --noEmit&#34;</span>
  <span class=p>],</span>
  <span class=nt>&#34;src/**/*.{js,jsx,ts,tsx,json,css,scss,md}&#34;</span><span class=p>:</span> <span class=p>[</span>
    <span class=s2>&#34;prettier --write&#34;</span>
  <span class=p>],</span>
  <span class=nt>&#34;*.js&#34;</span><span class=p>:</span> <span class=s2>&#34;eslint --cache --fix&#34;</span>
<span class=p>}</span>
</code></pre></div><h3 id=pre-commit-summary>pre-commit summary</h3>
<p>Once we have completed these steps, <strong>we have finished the configuration for pre-commit hook</strong>. This is the flow that will be triggered when we make a git commit:</p>
<ol>
<li><code>pre-commit</code> husky script will execute <code>npm run lint</code> defined in root <code>package.json</code>.</li>
<li><code>lint</code> script will go to both <strong>backend</strong> and <strong>frontend</strong> folder, and will execute <code>npm run lint:staged</code>.</li>
<li><strong>lint-staged</strong> will be called and will receive the list of files involved in the commit. If no file match, no action will be executed. If any error is found, commit will be aborted until solved.</li>
</ol>
<h2 id=git-pre-push-hook>Git pre-push hook</h2>
<p>With this hook, we want to make sure that we don&rsquo;t push any code that can break our unit testing. We will use husky for this purpose too, using the same strategy as pre-commit hook. Let&rsquo;s get right into it. In the root folder:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>npx husky add .husky/pre-push <span class=s2>&#34;npm run pre-push&#34;</span>
</code></pre></div><p>A file named <code>pre-push</code> under <code>.husky</code> folder will appear with this content:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=cp>#!/bin/sh
</span><span class=cp></span>. <span class=s2>&#34;</span><span class=k>$(</span>dirname <span class=s2>&#34;</span><span class=nv>$0</span><span class=s2>&#34;</span><span class=k>)</span><span class=s2>/_/husky.sh&#34;</span>

npm run pre-push
</code></pre></div><h3 id=adding-npm-scripts-in-root-packagejson-1>Adding npm scripts in root package.json</h3>
<p>Once defined the hook, we must create <code>pre-push</code> script in the root <code>package.json</code>. This script will run 2 scripts, , one for backend, and the other for frontend. These are the lines added:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
  <span class=c1>// ...
</span><span class=c1></span>  <span class=nt>&#34;pre-push&#34;</span><span class=p>:</span> <span class=s2>&#34;npm-run-all pre-push:backend pre-push:frontend&#34;</span><span class=p>,</span>
  <span class=nt>&#34;pre-push:frontend&#34;</span><span class=p>:</span> <span class=s2>&#34;cd frontend &amp;&amp; npm run pre-push&#34;</span><span class=p>,</span>
  <span class=nt>&#34;pre-push:backend&#34;</span><span class=p>:</span> <span class=s2>&#34;cd backend &amp;&amp; npm run pre-push&#34;</span><span class=p>,</span>
<span class=p>}</span><span class=err>,</span>
</code></pre></div><p>The next step, is defining <code>pre-push</code> script in <code>backend/package.json</code> and in <code>frontend/package.json</code> as well.</p>
<h3 id=prepush-if-changed-in-backend-and-frontend>prepush-if-changed in backend and frontend</h3>
<p><a href=https://github.com/dprovodnikov/prepush-if-changed>prepush-if-changed</a> is a package similar to <code>lint-staged</code> but for git push. It is not as popular as lint-staged, but I tested it, and it works properly. <strong>We want to launch unit testing and linting</strong>, but only if any file related to backend or frontend is involved in files pushed.</p>
<p>For example, if we are pushing changes for frontend, only frontend tests and linting will be launched. Same for backend, and in case both projects have changes, both will be checked.</p>
<p>We will install this development dependency in backend and frontend:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=nb>cd</span> backend
npm i -D prepush-if-changed
<span class=nb>cd</span> ../frontend
npm i -D prepush-if-changed
</code></pre></div><p>Now, we will <a href=https://github.com/dprovodnikov/prepush-if-changed#configuration>define prepush-if-changed config</a> for running our tasks. We can define config inside <code>package.json</code> or in a separate file.</p>
<p>Besides, we have to add a script called <code>pre-push</code> (and some other dependents for the task), which is called from root <code>package.json</code>. <strong>If any test or linting process fails, git push will be aborted</strong>.</p>
<p>We will go with the first one, so:</p>
<p><code>backend/package.json</code></p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
  <span class=c1>// ...
</span><span class=c1></span>  <span class=nt>&#34;pre-push&#34;</span><span class=p>:</span> <span class=s2>&#34;npm-run-all pre-push:test lint&#34;</span><span class=p>,</span>
  <span class=nt>&#34;pre-push:test&#34;</span><span class=p>:</span> <span class=s2>&#34;prepush-if-changed&#34;</span><span class=p>,</span>
  <span class=nt>&#34;lint&#34;</span><span class=p>:</span> <span class=s2>&#34;npm-run-all lint:eslint lint:tsc&#34;</span><span class=p>,</span>
  <span class=nt>&#34;lint:eslint&#34;</span><span class=p>:</span> <span class=s2>&#34;eslint &#39;src/**/*.ts&#39;&#34;</span><span class=p>,</span>
  <span class=nt>&#34;lint:tsc&#34;</span><span class=p>:</span> <span class=s2>&#34;tsc -p tsconfig.json&#34;</span><span class=p>,</span>
  <span class=nt>&#34;test&#34;</span><span class=p>:</span> <span class=s2>&#34;npm run test:unit &amp;&amp; npm run test:e2e&#34;</span><span class=p>,</span>
  <span class=nt>&#34;test:unit&#34;</span><span class=p>:</span> <span class=s2>&#34;jest --runInBand&#34;</span><span class=p>,</span>
  <span class=nt>&#34;test:e2e&#34;</span><span class=p>:</span> <span class=s2>&#34;jest --config ./test/jest-e2e.json&#34;</span><span class=p>,</span>
  <span class=c1>// ...
</span><span class=c1></span><span class=p>}</span>
<span class=c1>// ...
</span><span class=c1></span>  <span class=s2>&#34;prepush-if-changed&#34;</span><span class=err>:</span> <span class=p>{</span>
    <span class=nt>&#34;src/**/*.+(ts)&#34;</span><span class=p>:</span> <span class=s2>&#34;echo &#39;Files changed on backend. Launching tests.&#39; &amp;&amp; npm run test&#34;</span>
  <span class=p>}</span><span class=err>,</span>
</code></pre></div><p>A brief explanation of the process:</p>
<ul>
<li><code>pre-push</code> script will launch <code>pre-push:test</code> that runs <code>prepush-if-changed</code> with the shown config, and after that, <code>lint</code>.</li>
<li>If <code>prepush-if-changed</code> config finds any match, will launch <code>test</code> script.</li>
<li><code>test</code> script will launch <code>test:unit</code> and <code>test:e2e</code>.</li>
<li>Finally, <code>lint</code> script executes <code>lint:eslint</code> and <code>lint:tsc</code>.</li>
</ul>
<p><code>frontend/package.json</code></p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
  <span class=c1>// ...
</span><span class=c1></span>  <span class=nt>&#34;pre-push&#34;</span><span class=p>:</span> <span class=s2>&#34;npm-run-all pre-push:test lint&#34;</span><span class=p>,</span>
  <span class=nt>&#34;pre-push:test&#34;</span><span class=p>:</span> <span class=s2>&#34;prepush-if-changed&#34;</span><span class=p>,</span>
  <span class=nt>&#34;lint&#34;</span><span class=p>:</span> <span class=s2>&#34;npm-run-all lint:eslint lint:tsc&#34;</span><span class=p>,</span>
  <span class=nt>&#34;lint:eslint&#34;</span><span class=p>:</span> <span class=s2>&#34;eslint &#39;src/**/*.{ts,tsx}&#39;&#34;</span><span class=p>,</span>
  <span class=nt>&#34;lint:tsc&#34;</span><span class=p>:</span> <span class=s2>&#34;tsc -p tsconfig.json&#34;</span><span class=p>,</span>
  <span class=nt>&#34;test&#34;</span><span class=p>:</span> <span class=s2>&#34;react-scripts test&#34;</span><span class=p>,</span>
  <span class=c1>// ...
</span><span class=c1></span><span class=p>}</span>
<span class=c1>// ...
</span><span class=c1></span>  <span class=s2>&#34;prepush-if-changed&#34;</span><span class=err>:</span> <span class=p>{</span>
    <span class=nt>&#34;src/**/*.+(ts|tsx)&#34;</span><span class=p>:</span> <span class=s2>&#34;echo &#39;Files changed on frontend. Launching tests.&#39; &amp;&amp; npm run test -- --watchAll=false&#34;</span>
  <span class=p>}</span><span class=err>,</span>
</code></pre></div><p>Note for frontend:</p>
<ul>
<li><code>pre-push</code> script will launch <code>pre-push:test</code> that runs <code>prepush-if-changed</code> with the shown config, and after that, <code>lint</code>.</li>
<li>If <code>prepush-if-changed</code> config finds any match, will launch <code>npm run test -- --watchAll=false</code>.</li>
<li>Finally, <code>lint</code> script executes <code>lint:eslint</code> and <code>lint:tsc</code>.</li>
</ul>
<p>Wow this was a huge post, very interesting for future reference. A lot of topics, I published <a href=https://github.com/javifm86/monorepo-starter-react-nest>the final result in Github</a>. In my team we have been using this config for the last 3 months, and we are pleased with the result. Thanks for reading.</p>
</div>
<div class="my-16 border-b border-gray-300"></div>
<div class="mb-16 text-center max-w-3xl mx-auto">
<a class="outline-none bg-transparent dark:bg-gray-800 text-green-700 dark:text-green-500 font-semibold hover:text-white dark:hover:text-gray-800 dark:focus:text-gray-800 hover:bg-green-500 dark:hover:bg-green-500 dark:focus:bg-green-500 focus:text-white focus:bg-green-500 py-2 px-4 border border-green-500 dark:border-none hover:border-transparent rounded block mb-4 transition duration-100" href=https://javifm.com/en/blog/2021-in-review/>
2021 in review &#187;
</a>
</div>
</article>
</main>
<footer class="bg-gray-800 text-gray-200 p-4">
<div class="container mx-auto flex justify-between items-center">
<p>
&copy; 2021 Sitio construido con <a class="text-white underline" href=https://gohugo.io/>Hugo</a> alojado en <a class="text-white underline" href=https://github.com/>Github</a>.
</p>
<div class="flex items-center">
<a href=https://github.com/javifm86 class="mr-1 p-2 text-gray-300 hover:text-white">
<span class=sr-only>Github</span><svg class="w-8 h-8 pointer-events-none" viewBox="0 0 256 250" role="img" aria-labelledby="titleId" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid"><title id="titleId">Github</title><path role="presentation" class="fill-current" d="M128.001.0C57.317.0.0 57.307.0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158.0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258.0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874.0.0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358.0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704.0 17.126-.148 30.91-.148 35.126.0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691.0 128.001.0zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86.0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403z"/></svg>
</a>
<a href=https://twitter.com/javifm86 class="p-2 text-gray-300 hover:text-white">
<span class=sr-only>Twitter</span><svg class="w-8 h-8 mt-1 pointer-events-none" role="img" aria-labelledby="titleId" viewBox="0 0 256 209" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid"><title id="titleId">Twitter</title><path role="presentation" class="fill-current" d="M256 25.45a105.04 105.04.0 01-30.166 8.27c10.845-6.5 19.172-16.793 23.093-29.057a105.183 105.183.0 01-33.351 12.745C205.995 7.201 192.346.822 177.239.822c-29.006.0-52.523 23.516-52.523 52.52.0 4.117.465 8.125 1.36 11.97-43.65-2.191-82.35-23.1-108.255-54.876-4.52 7.757-7.11 16.78-7.11 26.404.0 18.222 9.273 34.297 23.365 43.716a52.312 52.312.0 01-23.79-6.57c-.003.22-.003.44-.003.661.0 25.447 18.104 46.675 42.13 51.5a52.592 52.592.0 01-23.718.9c6.683 20.866 26.08 36.05 49.062 36.475-17.975 14.086-40.622 22.483-65.228 22.483-4.24.0-8.42-.249-12.529-.734 23.243 14.902 50.85 23.597 80.51 23.597 96.607.0 149.434-80.031 149.434-149.435.0-2.278-.05-4.543-.152-6.795A106.748 106.748.0 00256 25.45"/></svg>
</a>
</div>
</div>
</footer>
</div>
</div>
<script src=https://javifm.com/js/focus-visible.min.js></script>
<script>(function(){const c=document.getElementsByTagName('body')[0],g=document.getElementById('open-menu'),f=document.getElementById('close-menu'),e=document.getElementById('site-menu'),d=document.getElementById('sidebar-open'),b='show-nav';let a='closed';const k=m(function(){c.classList.contains(b)&&window.screen.width>639&&h()},0);d.addEventListener('click',h),window.addEventListener('resize',k);function l(){a==='opening'?(i(g,'hidden'),j(f,'hidden'),d.setAttribute('aria-label','Cerrar menú'),a='open'):(j(g,'hidden'),i(f,'hidden'),e.classList.add('hidden'),d.setAttribute('aria-label','Abrir menú'),a='closed')}function h(){c.classList.contains(b)?(c.classList.remove(b),a='closing'):(c.classList.add(b),a='opening',e.classList.remove('hidden')),setTimeout(l,300)}function m(b,d,c){let a;return function(){let e=this,f=arguments;const g=function(){a=null,c||b.apply(e,f)};let h=c&&!a;clearTimeout(a),a=setTimeout(g,d),h&&b.apply(e,f)}}function i(a,b){a.setAttribute('class',a.getAttribute('class')+' '+b)}function j(a,b){let c=a.getAttribute('class').replace(new RegExp('(\\s|^)'+b+'(\\s|$)','g'),'$2');a.setAttribute('class',c)}})()</script>
</body>
</html>