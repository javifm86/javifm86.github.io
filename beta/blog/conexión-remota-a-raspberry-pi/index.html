<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.58.3" />

<link rel="stylesheet" href="https://javifm.com/beta/css/styles.css">


<title>Conexión remota a Raspberry Pi | Frontend developer</title>

    
</head>

<body>
    <div id="site-wrapper" class="relative overflow-hidden w-full">
        <div id="site-canvas" class="w-full h-full relative">
            



<a id="skiplink" class="sr-only absolute top-0 left-0 mt-2 ml-1 font-semibold bg-gray-300 rounded-sm p-2 uppercase text-gray-700" href="#main">
    Saltar al contenido principal
</a>

<div class="bg-gray-100 prefers-dark:bg-gray-900 border-t-4 border-green-500">
    <div class="container mx-auto">
        <nav class="flex flex-wrap justify-end items-center py-6 px-4">
            
                
                
                
                
                
                    
                
                <a class="mr-6 first:-ml-2 p-2 uppercase text-gray-700 hidden sm:inline-flex hover:bg-gray-300 hover:rounded-sm" href="/beta/">Inicio</a>
            
                
                
                
                
                
                    
                
                <a class="mr-6 first:-ml-2 p-2 uppercase text-gray-700 hidden sm:inline-flex font-semibold bg-gray-300 rounded-sm" href="/beta/blog/">Blog</a>
            
                
                
                
                
                
                    
                
                <a class="mr-6 first:-ml-2 p-2 uppercase text-gray-700 hidden sm:inline-flex hover:bg-gray-300 hover:rounded-sm" href="/beta/tags/">Tags</a>
            
                
                
                
                
                
                    
                
                <a class="mr-6 first:-ml-2 p-2 uppercase text-gray-700 hidden sm:inline-flex hover:bg-gray-300 hover:rounded-sm" href="/beta/sobre-mi/">Sobre mí</a>
            
                
                
                
                
                
                    
                
                <a class="mr-6 first:-ml-2 p-2 uppercase text-gray-700 hidden sm:inline-flex hover:bg-gray-300 hover:rounded-sm" href="/beta/search/">Buscar</a>
            
            <button type="button" id="sidebar-open" aria-label="Abrir menu" class="sm:hidden text-gray-700 flex items-center uppercase text-xl p-1 -m-1">
                Menú
                



















<svg xmlns="http://www.w3.org/2000/svg" class='ml-2 w-6 h-6 fill-current'  id='open-menu' role="img" aria-labelledby="titleId" viewBox="0 0 20 20"><title id="titleId">Menú</title><path role="presentation" d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path></svg>


                



















<svg xmlns="http://www.w3.org/2000/svg" class='ml-2 w-6 h-6 fill-current hidden'  id='close-menu' role="img" aria-labelledby="titleId" viewBox="0 0 20 20"><title id="titleId">Cerrar</title><path role="presentation" d="M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"></path></svg>


            </button>
        </nav>
    </div>
</div>

<div id="site-menu" class="h-full absolute top-0 py-6 px-4 bg-gray-800 hidden">
    <nav class="flex flex-col uppercase text-xl">
    
        
        
        
        
        
            
        
        <a class="mb-1 px-4 py-2 text-gray-100" href="/beta/">Inicio</a>
    
        
        
        
        
        
            
        
        <a class="mb-1 px-4 py-2 bg-green-600 rounded text-white font-semibold outline-none focus:bg-white focus:text-green-600" href="/beta/blog/">Blog</a>
    
        
        
        
        
        
            
        
        <a class="mb-1 px-4 py-2 text-gray-100" href="/beta/tags/">Tags</a>
    
        
        
        
        
        
            
        
        <a class="mb-1 px-4 py-2 text-gray-100" href="/beta/sobre-mi/">Sobre mí</a>
    
        
        
        
        
        
            
        
        <a class="mb-1 px-4 py-2 text-gray-100" href="/beta/search/">Buscar</a>
    
    </nav>
</div>

            <main id="main">
                

<div class="container mx-auto px-4 single-post">
    <div class="my-6">
        <h1 class="title">Conexión remota a Raspberry Pi</h1>
        

<div class="flex flex-wrap flex-col sm:flex-row sm:items-center text-gray-700">
    <time datetime="2017-01-25">
        Publicado el 25 Ene 2017</time>
    
    <span>
        <span class="mx-2 hidden sm:inline-flex">&bull;</span>Tiempo de lectura: 4min
    </span>
    
</div>

    <div class="mt-4">
        
            
            <a class="tag inline-block text-sm mr-2 mb-2" href="https://javifm.com/beta/tags/raspberry-pi">raspberry pi</a>
        
    </div>


    </div>
    <div class="single-post-content">
        <p>Una vez finalizada la configuración básica, vamos a ver la manera de <strong>conectarnos remotamente</strong>, sin necesidad de tener enchufado ratón y teclado a la Raspberry, ni tan siquiera un monitor HDMI (si no quieres). Por defecto raspbian Pixel trae instalado el paquete <strong>RealVNC</strong> para conexiones remotas. Este paquete es incompatible con <strong>xrdp</strong>, que es el protocolo que utiliza la herramienta de <em>Conexión a Escritorio remoto</em> que trae instalada Windows por defecto.</p>

<p>Si no dispones de Windows no te preocupes, vamos a ver varias maneras distintas de conexión en remoto. Para continuar con la configuración instalaremos el paquete <strong>tightvncserver</strong>, que se encarga automaticamente de desinstalar RealVNC . Para instalar, desde la terminal simplemente ejecutamos:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sudo apt install -y tightvncserver</code></pre></div>

<p>La opción <em><strong>-y</strong></em> simplemente responde que sí a cualquier pregunta planteada. Finalmente instalamos xrdp:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sudo apt install -y xrdp</code></pre></div>

<p>Para poder acceder facilmente a nuestra Raspberry desde Windows, podemos instalar <strong>Samba</strong>. Así en lugar de recordar la IP, podemos recordar solamente el nombre que le hayamos puesto en el apartado <strong>hostname</strong> de la pestaña Sistema dentro de la configuración de la raspberry. Especialmente útil si tiene IP dinámica y no fija. En mi caso mi Raspbery se llama <em><strong>&#8220;rasp&#8221;</strong></em>. Para instalar samba:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sudo apt install -y samba</code></pre></div>

<p>Desde ahora, en una máquina Windows podremos acceder facilmente al miniordenador. Probamos desde cmd de Windows a hacer ping:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">ping rasp</code></pre></div>

<p>Para conectar remotamente, disponemos de 2 opciones:</p>

<p><strong>Desde Windows</strong> no es necesario ningún paso adicional, simplemente abriremos la herramienta de <em>Conexión a Escritorio remoto</em>. Pondremos la IP o el hostname que le hayamos dado, podremos configurar una serie de opciones como Pantalla (tamaño del escritorio remoto, calidad del color&#8230;), y una vez esté a nuestro gusto pulsamos en Conectar.</p>


























  <img
    class='mb-6 '
    srcset='
    /beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/xrdp.png 410w
    
    
    
    '
    src="/beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/xrdp.png"
    width="410" height="473"
    alt='Conexión a escritorio remoto de Windows'>


<p>Es posible que salte un aviso informando de que no se puede comprobar la identidad del equipo remoto, pulsaremos <em>Sí</em> para establecer la conexión. Si todo ha ido bien, veremos una pantalla donde introducir nuestras credenciales de acceso a la Raspberry.  Usuario pi y contraseña raspberry, si es que no la has cambiado aún(¡deberías!).</p>




























  <img
    class='mb-6 '
    srcset='
    /beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/login.png 799w
    
      ,/beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/login_hu24685f04ee0c755451fb38a819c4061f_7844_500x0_resize_box_2.png 500w
    
    
    
    '
    src="/beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/login.png"
    width="799" height="577"
    alt='Login con xrdp'>


<p>Después de escribir usuario y password, al dar OK veremos el escritorio de nuestra Raspberry, y podremos interactuar con ella desde la interfaz gráfica.</p>






























  <img
    class='mb-6 '
    srcset='
    /beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/conexion_remota.png 806w
    
      ,/beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/conexion_remota_hue30d692a4720fcd452609df3f636c1ff_188925_500x0_resize_box_2.png 500w
    
    
      , /beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/conexion_remota_hue30d692a4720fcd452609df3f636c1ff_188925_800x0_resize_box_2.png 800w
    
    
    '
    src="/beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/conexion_remota.png"
    width="806" height="617"
    alt='Interfaz gráfica de Raspbian'>


<p>Para <strong>conectar desde cualquier plataforma</strong>, podemos utilizar <strong>VNC</strong>. Yo lo utilizo desde mi móvil android, con la aplicación <em>VNC Viewer</em>. Hay distintas aplicaciones para las distintas plataformas, incluso <a href="https://chrome.google.com/webstore/detail/vnc%C2%AE-viewer-for-google-ch/iabmpiboiopbgfabjmgeedhcmjenhbla">hay una extensión para Google Chrome.</a> Para ello deberemos dar algún paso más, nada complicado.</p>

<p>En la consola de nuestra Raspberry, ejecutaremos el comando <code>vncpasswd</code>, y nos pedirá establecer una contraseña que será solicitada en el momento que accedamos por remoto. Además nos dará la posibilidad de crear una contraseña unicamente para ver la Raspberry pero sin manipular, le decimos que no pues no nos interesa.</p>

<p>Ahora crearemos un escritorio remoto simplemente ejecutando <code>vncserver</code>, y en consola veremos <strong>el número de escritorio creado</strong>, la primera vez será <em>:1</em>, la siguiente <em>:2</em>, etc. Desde nuestra red local simplemente en nuestra herramienta VNC, ponemos la IP de la Raspberry, seguido del número de escritorio. Si es el escritorio 1, y nuestra IP es 192.168.1.50, deberemos conectar a 192.168.1.50:1.</p>

<p>Si estamos conectando desde fuera de nuestra red, a través de internet, el número de escritorio correspondería con el puerto 5901 para el escritorio 1. 5902 para el 2, etc., ya que el puerto de VNC es el 5900. Pero esto lo explicaré con mayor detalle en otras entradas, para conectar remotamente desde fuera de casa.</p>

<p>Tras pulsar conectar, nos solicitará la password y después de introducirla conectaremos remotamente. Puedes crear distintos tipos de escritorios remotos con VNC, para ver las distintas opciones lo mejor es consultar la ayuda con <code>vncserver --help</code>.</p>


























  <img
    class='mb-6 '
    srcset='
    /beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/vnc_android.png 303w
    
    
    
    '
    src="/beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/vnc_android.png"
    width="303" height="538"
    alt='VNC desde Android'>


<p>Hasta aquí la manera de conectar a través de interfaz gráfica, si bien no es la conexión que más amenudo uso, puntualmente me viene bien. La manera más habitual de conectar, como hacen muchos usuarios de Linux es a través de <a href="https://es.wikipedia.org/wiki/Secure_Shell">SSH</a>, conectaremos a la consola de nuestra Raspberry y dispondremos de la línea de comandos para ejecutar lo que queramos.</p>

<p>Para ello se puede hacer uso de una herramienta llamada <a href="http://www.putty.org/">Putty</a>, o de cualquier línea de comandos. En Putty simplemente ponemos la dirección IP de la máquina a la que nos vamos a conectar, elegimos ssh y dejamos el puerto por defecto que es el 22. En consola normal, ejecutaremos el comando ssh seguido de la dirección IP: <code>ssh 192.168.1.50</code>.</p>


























  <img
    class='mb-6 '
    srcset='
    /beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/putty.png 462w
    
    
    
    '
    src="/beta/blog/conexi%C3%B3n-remota-a-raspberry-pi/img/putty.png"
    width="462" height="444"
    alt='Configuración de Putty'>


<p>Elegimos Open, introducimos nuestras credenciales y ya estaremos en nuestra máquina.</p>

<p>NOTA: Antes de intentar conectar por SSH o VNC, es importante <strong>comprobar en la configuración de la raspberry que dichos servicios están habilitados</strong>, recientemente Raspbian ha cambiado y por defecto trae ssh deshabilitado.</p>

    </div>
    <div class="my-16 border-b border-gray-400"></div>
    <div class="mb-6 text-center max-w-3xl mx-auto">
        
        <a class="outline-none bg-transparent text-green-700 font-semibold hover:text-white hover:bg-green-500 focus:text-white focus:bg-green-500 py-2 px-4 border border-green-500 hover:border-transparent rounded block mb-4" href="https://javifm.com/beta/blog/configurar-teclado-conexi%C3%B3n-remota-raspberry-pi-con-xdrp-km-040a.ini/">
            &laquo; Configurar teclado conexión remota Raspberry Pi con XDRP – km-040a.ini
        </a>
        
        
        <a class="outline-none bg-transparent text-green-700 font-semibold hover:text-white hover:bg-green-500 focus:text-white focus:bg-green-500 py-2 px-4 border border-green-500 hover:border-transparent rounded block mb-4" href="https://javifm.com/beta/blog/raspberry-pi-primeros-pasos-2/">
            Raspberry pi, primeros pasos (2) &raquo;
        </a>
        
    </div>

</div>


            </main>
            <footer class="bg-gray-900 text-blue-100 p-4">
    <div class="container">
        <div class="text-center">
            &copy; 2019 Sitio construido con Hugo alojado en Github.
        </div>
    </div>
</footer>

        </div>
    </div>
    
<script src="https://javifm.com/beta/js/focus-visible.min.js"></script>
<script>
    (function() {
        const $bodyElement = document.getElementsByTagName('body')[0];
        const $svgOpen = document.getElementById('open-menu');
        const $svgClose = document.getElementById('close-menu');
        const $siteCanvas = document.getElementById('site-canvas');
        const $siteMenu = document.getElementById('site-menu');
        const $buttonNav = document.getElementById('sidebar-open');
        const transitionEnd = transitionEndEventName();
        const CSS_CLASS_NAV = 'show-nav';
        let stateNav = 'closed';

        const closeMenuOnResize = debounce(function() {
            if ($bodyElement.classList.contains(CSS_CLASS_NAV) && window.screen.width > 639) {
                toggleNav();
            }
        }, 0);

        
        $buttonNav.addEventListener('click', toggleNav);
        window.addEventListener('resize', closeMenuOnResize);

        $siteCanvas.addEventListener(
            transitionEnd,
            function() {
                if (stateNav === 'opening') {
                    $svgOpen.classList.add('hidden');
                    $svgClose.classList.remove('hidden');
                    $buttonNav.setAttribute('aria-label', 'Cerrar menú');
                    stateNav = 'open';
                } else {
                    $svgOpen.classList.remove('hidden');
                    $svgClose.classList.add('hidden');
                    $siteMenu.classList.add('hidden');
                    $buttonNav.setAttribute('aria-label', 'Abrir menú');
                    stateNav = 'closed';
                }
            },
            false
        );
        
        

        function toggleNav() {
            if ($bodyElement.classList.contains(CSS_CLASS_NAV)) {
                $bodyElement.classList.remove(CSS_CLASS_NAV);
                stateNav = 'closing';
            } else {
                $bodyElement.classList.add(CSS_CLASS_NAV);
                stateNav = 'opening';
                $siteMenu.classList.remove('hidden');
            }
        }

        function debounce(func, wait, immediate) {
            let timeout;
            return function() {
                let context = this;
                let args = arguments;
                const later = function() {
                    timeout = null;
                    if (!immediate) {
                        func.apply(context, args);
                    }
                };
                let callNow = immediate && !timeout;
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
                if (callNow) {
                    func.apply(context, args);
                }
            };
        }

        function transitionEndEventName() {
            let i;
            const el = document.createElement('div');
            const transitions = {
                'transition': 'transitionend',
                'OTransition': 'otransitionend',  
                'MozTransition': 'transitionend',
                'WebkitTransition': 'webkitTransitionEnd'
            };

            for (i in transitions) {
                if (transitions.hasOwnProperty(i) && el.style[i] !== undefined) {
                    return transitions[i];
                }
            }
        }

    })();

</script>

    
</body>

</html>
